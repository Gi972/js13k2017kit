<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JS13K 2017 boilerplate</title><style>
body{margin:0;overflow:hidden;background:#111;color:#ccc}#canvas{position:fixed;top:50%;bottom:0;left:50%;right:0;width:200vmin;height:100vmin;transform:translate(-50%,-25%);image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;-ms-interpolation-mode:nearest-neighbor;cursor:none;margin:auto}
</style></head><body><canvas id="canvas"></canvas><script>
var GAME=function(){function e(e){P.fill(e,renderTarget,renderTarget+131072)}function n(e,t,n){t|=0,n|=0,(e|=0)>-1&&e<T&&t>-1&&t<A&&(P[renderTarget+(t*T+e)]=n)}function i(e,t,i,r,o){var a,s,l=(r|=0)-(t|=0),c=(i|=0)-(e|=0);if(l<0?(l=-l,s=-1):s=1,c<0?(c=-c,a=-1):a=1,l<<=1,c<<=1,n(e,t,o),c>l)for(var u=l-(c>>1);e!=i;)u>=0&&(t+=s,u-=c),u+=l,n(e+=a,t,o);else for(u=c-(l>>1);t!=r;)u>=0&&(e+=a,u-=l),u+=c,n(e,t+=s,o)}function r(e,t,i,r){var o=-i,a=0,s=2-2*i;do{n(e-o,t+a,r),n(e-a,t-o,r),n(e+o,t-a,r),n(e+a,t+o,r),(i=s)<=a&&(s+=2*++a+1),(i>o||s>a)&&(s+=2*++o+1)}while(o<0)}function o(e,t,n,r){if(!(n<0)){e|=0,t|=0,r|=0;var o=-(n|=0),a=0,s=2-2*n;do{i(e-o,t-a,e+o,t-a,r),i(e-o,t+a,e+o,t+a,r),(n=s)<=a&&(s+=2*++a+1),(n>o||s>a)&&(s+=2*++o+1)}while(o<0)}}function a(e,t,n,r,o){x1=0|e,y1=0|t,x2=e+n|0,y2=t+r|0;var a=Math.abs(y2-y1);if(i(x1,y1,x2,y1,o),a>0)for(;--a;)i(x1,y1+a,x2,y1+a,o);i(x1,y2,x2,y2,o)}function s(e=0,t=0,n=16,i=16,r=0,o=0,a=!1,s=!1){for(var l=0;l<i;l++)for(var c=0;c<n;c++)o+l<A&&r+c<T&&o+l>-1&&r+c>-1&&(a&s?P[renderSource+((t+(i-l))*T+e+(n-c))]>0&&(P[renderTarget+((o+l)*T+r+c)]=pal[P[renderSource+((t+(i-l))*T+e+(n-c))]]):s&&!a?P[renderSource+((t+(i-l))*T+e+c)]>0&&(P[renderTarget+((o+l)*T+r+c)]=P[renderSource+((t+(i-l))*T+e+c)]):a&&!s?P[renderSource+((t+l)*T+e+(n-c))]>0&&(P[renderTarget+((o+l)*T+r+c)]=P[renderSource+((t+l)*T+e+(n-c))]):a||s||P[renderSource+((t+l)*T+e+c)]>0&&(P[renderTarget+((o+l)*T+r+c)]=pal[P[renderSource+((t+l)*T+e+c)]]))}function l(){for(var e=131072;e--;)b[e]=colors[pal[P[e]]];M.data.set(K),ctx.putImageData(M,0,0)}function c(e,t){o(e,t,20,21)}function u(){this.inUse=!1,this.init=function(){this.x=-500,this.y=-500,this.dead=!0,this.xvel=0,this.yvel=1,this.life=1},u.prototype.spawn=function(e){this.x=e.x,this.y=e.y,this.xvel=e.xvel,this.yvel=e.yvel,this.inUse=!0,this.life=e.life||1,this.remaining=e.life||1,this.radius=e.radius||1,this.color=e.color||21,this.dead=!1},u.prototype.use=function(e){return!!this.dead||(this.remaining-=e,this.x+=e*this.xvel,this.y+=e*this.yvel,this.draw(),this.remaining<=0?(this.dead=!0,!0):(this.y<0&&(this.dead=!0),this.x>=0&&this.x<=T&&this.y>=0&&this.y<=256&&P[(0|this.y)*T+(0|this.x)+262144]>0&&(this.dead=!0,c(this.x,this.y)),!1))},u.prototype.clear=function(){this.x=-500,this.y=-500,this.dead=!0,this.xvel=0,this.yvel=0,this.life=1,this.inUse=!1},u.prototype.draw=function(){r(this.x,this.y,0|4*Math.random(),21)}}function f(e,t){var n=e,i=[];this.init=function(){for(var e=0;e<n;e++){var r=new t;r.init(),i[e]=r}},this.get=function(e){if(!i[n-1].inUse)return i[n-1].spawn(e),i.unshift(i.pop()),i[n-1]},this.getPool=function(){return i},this.use=function(){for(var e=0;e<n&&i[e].inUse;e++)i[e].use(dt)&&(i[e].clear(),i.push(i.splice(e,1)[0]))}}function d(e){return Math.sin(6.283184*e)}function h(e){return d(e)<0?-1:1}function p(e){return e%1-.5}function y(e){var t=e%1*4;return t<2?t-1:3-t}function v(e){return.00390625*Math.pow(1.059463094,e-128)}function g(e,t){setTimeout(function(){var n=new Uint8Array(e*G*2),i=n.length-2,r=function(){for(var e=new Date,o=0;i>=0;)if(n[i]=0,n[i+1]=128,i-=2,(o+=1)%1e3==0&&new Date-e>I)return void setTimeout(r,0);setTimeout(function(){t(n)},0)};setTimeout(r,0)},0)}function x(e,t,n,i,r){var o=n.fx_delay_time*i>>1,a=n.fx_delay_amt/255,s=0,l=function(){for(var n=new Date,i=0;s<t-o;){var c=4*s,u=4*(s+o),f=e[u]+(e[u+1]<<8)+(e[c+2]+(e[c+3]<<8)-32768)*a;if(e[u]=255&f,e[u+1]=f>>8&255,f=e[u+2]+(e[u+3]<<8)+(e[c]+(e[c+1]<<8)-32768)*a,e[u+2]=255&f,e[u+3]=f>>8&255,++s,(i+=1)%1e3==0&&new Date-n>I)return void setTimeout(l,0)}setTimeout(r,0)};setTimeout(l,0)}function w(e){for(var t=e.text.length,i=0;i<t;i++){var r=[];r=_(e.text.charAt(i));for(var o=0;o<5;o++)for(var s=0;s<5;s++)1==r[5*o+s]&&(1==e.scale?n(e.x+s*e.scale+(5*e.scale+e.hspacing)*i,e.y+o*e.scale,e.color):a(e.x+s*e.scale+(5*e.scale+e.hspacing)*i,e.y+o*e.scale,e.scale,e.scale,e.color))}}function m(e){var t=5*e.scale,n=e.text.split("\n"),i=n.slice(0),r=n.length,o=i.sort(function(e,t){return t.length-e.length})[0],a=o.length*t+(o.length-1)*e.hspacing,s=r*t+(r-1)*e.vspacing;e.halign||(e.halign="left"),e.valign||(e.valign="bottom");var l=e.x,c=e.y,u=e.x+a,f=e.y+s;"center"==e.halign?(l=e.x-a/2,u=e.x+a/2):"right"==e.halign&&(l=e.x-a,u=e.x),"center"==e.valign?(c=e.y-s/2,f=e.y+s/2):"bottom"==e.valign&&(c=e.y-s,f=e.y);var d=l+a/2,h=c+s/2;if(e.render)for(var p=0;p<r;p++){var y=n[p],v=y.length*t+(y.length-1)*e.hspacing,g=e.x,x=e.y+(t+e.vspacing)*p;"center"==e.halign?g=e.x-v/2:"right"==e.halign&&(g=e.x-v),"center"==e.valign?x-=s/2:"bottom"==e.valign&&(x-=s),e.snap&&(g=Math.floor(g),x=Math.floor(x)),w({x:g,y:x,text:y,hspacing:e.hspacing||0,scale:e.scale||1,color:e.color})}return{sx:l,sy:c,cx:d,cy:h,ex:u,ey:f,width:a,height:s}}function _(e){return index=fontString.indexOf(e),fontBitmap.substring(25*index,25*index+25).split("")}var S={};assets={laser:{osc1_oct:7,osc1_det:0,osc1_detune:0,osc1_xenv:1,osc1_vol:255,osc1_waveform:3,osc2_oct:8,osc2_det:0,osc2_detune:0,osc2_xenv:1,osc2_vol:255,osc2_waveform:0,noise_fader:61,env_attack:22,env_sustain:22,env_release:21759,env_master:255,fx_filter:3,fx_freq:4067,fx_resonance:176,fx_delay_time:4,fx_delay_amt:12,fx_pan_freq:2,fx_pan_amt:84,lfo_osc1_freq:0,lfo_fx_freq:1,lfo_freq:3,lfo_amt:96,lfo_waveform:0}};const T=512,A=256;var D=document.getElementById("canvas");ctx=D.getContext("2d"),renderTarget=0,renderSource=131072,colors=[4278190080,4281606178,4282132549,4281416038,4282078863,4280709599,4284915929,4288332782,4281791227,4283491737,4281384554,4285436983,4281297227,4280568658,4281941042,4285808447,4286734384,4292963931,4294941539,4293184863,4294761419,4294967295,4290227611,4287069828,4285164137,4283586137,4287251062,4281479852,4284700633,4290411479,4283078543,4281364362],palDefault=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],pal=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],ctx.imageSmoothingEnabled=!1,ctx.mozImageSmoothingEnabled=!1,D.width=T,D.height=A;var M=ctx.getImageData(0,0,512,256),E=new ArrayBuffer(M.data.length),K=new Uint8Array(E),b=new Uint32Array(E),P=new Uint8ClampedArray(1048576);playSound=function(e,t,n,i){var r=k.createBufferSource(),o=k.createGain(),a=k.createStereoPanner();return r.buffer=e,r.connect(a),a.connect(o),o.connect(k.destination),r.playbackRate.value=t,r.loop=i,o.gain.value=1,a.pan.value=n,r.start(),{volume:o,sound:r}},init=function(){last=0,dt=0,now=0,t=0,moveX=0,speedFactor=.6,songTrigger=!1,state="menu",demostate=0,k=new AudioContext,fontString="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_!@.'\"?/<()",fontBitmap="11111100011111110001100011111010001111101000111110111111000010000100000111111100100101000110001111101111110000111001000011111111111000011100100001000011111100001011110001111111000110001111111000110001111110010000100001001111111111000100001010010111101000110010111001001010001100001000010000100001111110001110111010110001100011000111001101011001110001011101000110001100010111011110100011001011100100000111010001100011001001111111101000111110100011000101111100000111000001111101111100100001000010000100100011000110001100010111010001100011000101010001001000110001101011010101110100010101000100010101000110001010100010000100001001111100010001000100011111001000110000100001000111001110100010001000100111111111000001001100000111110100101001011111000100001011111100001111000001111100111110000111101000101110111110000100010001000010001110100010111010001011100111010001011110000101110011101000110001100010111000000000000000000000111110010000100001000000000100111111000110111101011011101010111110101011111010100000000000000000000000100001100001000100000000000011011010011001000000000000111010001001100000000100000010001000100010001000000010001000100000100000100001000100001000010000010",bulletPool=new f(100,u),sounds={},stats=new R,document.body.appendChild(stats.dom),bulletPool.init(),player.init(),soundInit(),eventInit(),loop()},stopCapture=(e=>{}),loop=(()=>{stats.begin();let e=(new Date).getTime();dt=Math.min(1,(e-last)/1e3);t+=dt;S[state].render();S[state].step(dt);last=e;l();stats.end();requestAnimationFrame(loop)}),soundInit=(()=>{sounds={};window.AudioContext=window.AudioContext||window.webkitAudioContext;k||(k=new AudioContext);let e=new C.SoundGenerator(assets.laser);e.createAudioBuffer(147,function(e){sounds.laser=e})}),eventInit=(()=>{window.addEventListener("keyup",function(e){Key.onKeyup(e)},!1);window.addEventListener("mousedown",function(e){stopCapture(e)},!1);window.addEventListener("keydown",function(e){Key.onKeydown(e)},!1);window.addEventListener("blur",function(e){paused=!0},!1);window.addEventListener("focus",function(e){paused=!1},!1)}),S.gameover={step:function(e){Key.isDown(Key.r)&&(state="menu")},render:function(n){renderTarget=0,e(0),m({x:256,y:80+15*Math.sin(2.5*t),text:"GAME OVER",hspacing:8+4*Math.cos(2.9*t),vspacing:15+5*Math.sin(3.5*t),halign:"center",valign:"top",scale:9,snap:1,render:1,color:27})}},S.menu={step:function(e){Key.isDown(Key.p)&&(state="game")},render:function(i){renderTarget=0,e(0);let r=t/3;for(let e=-128;e<128;e+=1)for(let t=-256;t<256;t+=2)n(256+t+256*Math.cos(4*(e/128+r))+e,256+e+128*Math.sin(4*(t/256+r))+t,t/8%32);m({x:256,y:40+15*Math.sin(2.5*t),text:"PROTOGAME",hspacing:8+4*Math.cos(2.9*t),vspacing:15+5*Math.sin(3.5*t),halign:"center",valign:"top",scale:9,snap:1,render:1,color:21}),m({x:256,y:230,text:"PRESS P TO CONTINUE",hspacing:2,vspacing:2,halign:"center",valign:"top",scale:1,snap:1,render:1,color:21})}},S.game={step(e){player.update(e),Key.justReleased(Key.SPACE)&&(songTrigger=!0),songTrigger&&(playSound(sounds.laser,1,1,0),songTrigger=!1),bulletPool.use(),Key.update()},render(i){renderTarget=0,e(1);let r=t/3;for(let e=-128;e<128;e+=1)for(let t=-256;t<256;t+=2)n(256+t+256*Math.cos(4*(e/128+r))+e,256+e+128*Math.sin(4*(t/256+r))+t,t/8%32);renderTarget=262144,e(0);for(var a=0;a<2*Math.PI;a+=.7)for(var l=20;l<200;l+=9){let e=a+.4*Math.sin(8*a-l/20+1.7*t);o(256+l*Math.cos(e),80+l*Math.sin(e),10-l/12|0,10+l/9%32|0)}renderTarget=0,renderSource=262144,s(0,0,512,256),player.draw(),renderTarget=0,m({x:256,y:20,text:"YOU CANT DEFEAT HIM, THIS IS JUST A PIXEL-PERFECT COLLISION\nAND MULTI-LAYER DRAWING DEMO\nARROW KEYS OR WASD AND SPACE TO SHOOT",hspacing:2,vspacing:2,halign:"center",valign:"top",scale:1,snap:1,render:1,color:21})}};var C={},G=2,I=33,k=null,L=[d,h,p,y];C.AudioGenerator=function(e){this.mixBuf=e,this.waveSize=e.length/G/2},C.AudioGenerator.prototype.getAudioBuffer=function(e){null===k&&(k=new AudioContext);var t=this.mixBuf,n=this.waveSize*G*2,i=k.createBuffer(G,this.waveSize,44100),r=i.getChannelData(0),o=i.getChannelData(1),a=0,s=function(){for(var l=new Date,c=0;a<n/2;){var u=4*(t[4*a]+(t[4*a+1]<<8)-32768);if(u=u<-32768?-32768:u>32767?32767:u,r[a]=u/32768,u=4*(t[4*a+2]+(t[4*a+3]<<8)-32768),u=u<-32768?-32768:u>32767?32767:u,o[a]=u/32768,a+=1,(c+=1)%1e3==0&&new Date-l>I)return void setTimeout(s,0)}setTimeout(function(){e(i)},0)};setTimeout(s,0)},C.SoundGenerator=function(e,t){this.instr=e,this.rowLen=t||5605,this.osc_lfo=L[e.lfo_waveform],this.osc1=L[e.osc1_waveform],this.osc2=L[e.osc2_waveform],this.attack=e.env_attack,this.sustain=e.env_sustain,this.release=e.env_release,this.panFreq=Math.pow(2,e.fx_pan_freq-8)/this.rowLen,this.lfoFreq=Math.pow(2,e.lfo_freq-8)/this.rowLen},C.SoundGenerator.prototype.genSound=function(e,t,n){new Date;for(var i=0,r=0,o=v(e+12*(this.instr.osc1_oct-8)+this.instr.osc1_det)*(1+8e-4*this.instr.osc1_detune),a=v(e+12*(this.instr.osc2_oct-8)+this.instr.osc2_det)*(1+8e-4*this.instr.osc2_detune),s=this.instr.fx_resonance/255,l=0,c=0,u=this.attack+this.sustain+this.release-1;u>=0;--u){var f=u+n,h=this.osc_lfo(f*this.lfoFreq)*this.instr.lfo_amt/512+.5,p=1;u<this.attack?p=u/this.attack:u>=this.attack+this.sustain&&(p-=(u-this.attack-this.sustain)/this.release);var y=o;this.instr.lfo_osc1_freq&&(y+=h),this.instr.osc1_xenv&&(y*=p*p),i+=y;var g=this.osc1(i)*this.instr.osc1_vol;y=a,this.instr.osc2_xenv&&(y*=p*p),r+=y,g+=this.osc2(r)*this.instr.osc2_vol,this.instr.noise_fader&&(g+=(2*Math.random()-1)*this.instr.noise_fader*p),g*=p/255;var x=this.instr.fx_freq;this.instr.lfo_fx_freq&&(x*=h);var w=s*(g-c)-(l+=(x=1.5*Math.sin(3.141592*x/44100))*c);switch(c+=x*w,this.instr.fx_filter){case 1:g=w;break;case 2:g=l;break;case 3:g=c;break;case 4:g=l+w}if(y=d(f*this.panFreq)*this.instr.fx_pan_amt/512+.5,g*=39*this.instr.env_master,(f*=4)+3<t.length){var m=t[f]+(t[f+1]<<8)+g*(1-y);t[f]=255&m,t[f+1]=m>>8&255,m=t[f+2]+(t[f+3]<<8)+g*y,t[f+2]=255&m,t[f+3]=m>>8&255}}},C.SoundGenerator.prototype.getAudioGenerator=function(e,t){var n=this.attack+this.sustain+this.release-1+32*this.rowLen,i=this;g(n,function(r){i.genSound(e,r,0),x(r,n,i.instr,i.rowLen,function(){t(new C.AudioGenerator(r))})})},C.SoundGenerator.prototype.createAudioBuffer=function(e,t){this.getAudioGenerator(e,function(e){e.getAudioBuffer(t)})},C.MusicGenerator=function(e){this.song=e,this.waveSize=44100*e.songLen},C.MusicGenerator.prototype.generateTrack=function(e,t,n){var i=this;g(this.waveSize,function(r){var o=i.waveSize,a=i.waveSize*G*2,s=i.song.rowLen,l=i.song.endPattern,c=new C.SoundGenerator(e,s),u=0,f=0,d=0,h=function(){for(var t=new Date;;)if(32!==d){if(f===l-1)return void setTimeout(p,0);var n=e.p[f];if(n){var i=e.c[n-1].n[d];i&&c.genSound(i,r,u)}if(u+=s,d+=1,new Date-t>I)return void setTimeout(h,0)}else d=0,f+=1},p=function(){x(r,o,e,s,v)},y=0,v=function(){for(var e=new Date,i=0;y<a;){var o=t[y]+(t[y+1]<<8)+r[y]+(r[y+1]<<8)-32768;if(t[y]=255&o,t[y+1]=o>>8&255,y+=2,(i+=1)%1e3==0&&new Date-e>I)return void setTimeout(v,0)}setTimeout(n,0)};setTimeout(h,0)})},C.MusicGenerator.prototype.getAudioGenerator=function(e){var t=this;g(this.waveSize,function(n){var i=0,r=function(){i<t.song.songData.length?(i+=1,t.generateTrack(t.song.songData[i-1],n,r)):e(new C.AudioGenerator(n))};r()})},C.MusicGenerator.prototype.createAudioBuffer=function(e){this.getAudioGenerator(function(t){t.getAudioBuffer(e)})};var R=function(){function e(e){return i.appendChild(e.dom),e}function t(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";n=e}var n=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(e){e.preventDefault(),t(++n%i.children.length)},!1);var r=(performance||Date).now(),o=r,a=0,s=e(new R.Panel("FPS","#0ff","#002")),l=e(new R.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=e(new R.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:i,addPanel:e,showPanel:t,begin:function(){r=(performance||Date).now()},end:function(){a++;var e=(performance||Date).now();if(l.update(e-r,200),e>o+1e3&&(s.update(1e3*a/(e-o),100),o=e,a=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){r=this.end()},domElement:i,setMode:t}};R.Panel=function(e,t,n){var i=1/0,r=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,l=48*a,c=3*a,u=2*a,f=3*a,d=15*a,h=74*a,p=30*a,y=document.createElement("canvas");y.width=s,y.height=l,y.style.cssText="width:80px;height:48px";var v=y.getContext("2d");return v.font="bold "+9*a+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,s,l),v.fillStyle=t,v.fillText(e,c,u),v.fillRect(f,d,h,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f,d,h,p),{dom:y,update:function(l,g){i=Math.min(i,l),r=Math.max(r,l),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,s,d),v.fillStyle=t,v.fillText(o(l)+" "+e+" ("+o(i)+"-"+o(r)+")",c,u),v.drawImage(y,f+a,d,h-a,p,f,d,h-a,p),v.fillRect(f+h-a,d,a,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f+h-a,d,a,o((1-l/g)*p))}}},"object"==typeof module&&(module.exports=R),Key={_pressed:{},_released:{},LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,a:65,w:87,s:83,d:68,z:90,x:88,f:70,p:80,r:82,isDown(e){return this._pressed[e]},justReleased(e){return this._released[e]},onKeydown(e){this._pressed[e.keyCode]=!0},onKeyup(e){this._released[e.keyCode]=!0,delete this._pressed[e.keyCode]},update(){this._released={}}},player={bullet:{x:0,y:0,xvel:0,yvel:0},init(){this.x=64,this.y=230,this.radius=12,this.xvel=0,this.yvel=0,this.xspeed=400,this.yspeed=400,this.drag=.6},update(e){this.bullet.x=player.x,this.bullet.y=player.y,this.xvel*=player.drag,this.yvel*=player.drag;let t=e*player.xvel,n=e*player.yvel;player.x+=t,player.y+=n,(Key.isDown(Key.d)||Key.isDown(Key.RIGHT))&&(player.xvel=player.xspeed),(Key.isDown(Key.a)||Key.isDown(Key.LEFT))&&(player.xvel=-player.xspeed),(Key.isDown(Key.w)||Key.isDown(Key.UP))&&(player.yvel=-player.yspeed),(Key.isDown(Key.s)||Key.isDown(Key.DOWN))&&(player.yvel=player.yspeed),Key.isDown(Key.SPACE||Key.isDown(Key.z))&&(player.bullet.yvel=-350,bulletPool.get(player.bullet)),player.x>T&&(player.x=0),player.x<0&&(player.x=T),player.y>A&&(player.y=0),player.y<0&&(state="gameover",player.y=A)},draw(e){o(this.x,this.y,this.radius,21)}},window.onload=init()}();
</script></body></html>